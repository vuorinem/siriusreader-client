<template>
  <require from="./nr-title-cover"></require>

  <ux-dialog class="title-dialog col-md-8">
    <ux-dialog-body>
      <div class="row">
        <div class="col-sm-3">
          <div class="library-item">
            <p class="title">${title.title}</p>
            <p class="author">${title.author}</p>
            <img class="rounded img-fluid" nr-title-cover="${title.bookId}" alt="${title.title}">
            <button class="btn btn-lg btn-primary btn-block" click.trigger="selectBook()">
              Select this book
            </button>
            <button class="btn btn-secondary btn-block" click.trigger="dialogController.cancel()">
              Back to library
            </button>
          </div>
        </div>
        <div class="col-sm">
          <div class="accordion title-dialog-nav">
            <div class="card" repeat.for="tab of tabs">
              <div class="card-header">
                <button class="btn btn-link btn-block text-left ${tab.isSelected ? 'active' : ''}"
                  type="button" click.delegate="selectTab(tab)">
                  ${tab.title}
                  <span class="float-right oi oi-caret-${tab.isSelected ? 'top' : 'bottom'}"></span>
                </button>
              </div>
              <div id="section-${tab.name}" class="title-dialog-tab ${tab.isSelected ? 'show' : ''}">
                <div class="card-body" innerhtml.bind="title[tab.name]"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </ux-dialog-body>
  </ux-dialog>
</template>
